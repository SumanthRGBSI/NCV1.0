<section class="container">
  <link rel="stylesheet" href="/assets/8d.css">
  <div class="card header toolbar">
    <div>
      <div class="h-title">D3 â€” Interim Containment ðŸš§</div>
      <div class="h-sub">Temporary fixes to protect the customer immediately.</div>
    </div>
    <div class="controls">
      <div class="timestamp">Last updated: <span id="d3-timestamp">Never</span></div>
      <select id="d3-status-select" class="input select-compact status-select" data-id="d3">
        <option value="pending">Pending</option>
        <option value="in-progress">In Progress</option>
        <option value="completed">Completed</option>
      </select>
    </div>
  </div>

  <div class="card">
    <div class="section-title">Actions & Planning</div>
    <label class="label">3A. Supplier description of problem / POV</label>
    <textarea id="d3-supplierDescription" class="input"></textarea>

    <div class="small mt-small">3B. Immediate Actions (Kanban)</div>
    <div class="controls mt-xs">
      <input id="d3-new-action" class="input" placeholder="Add action and press Enter" />
    </div>
    <div id="d3-kanban" class="row mt-small">
      <div class="col"><div class="section-title">To Do</div><div class="card" id="d3-col-todo" style="min-height:160px"></div></div>
      <div class="col"><div class="section-title">In Progress</div><div class="card" id="d3-col-inprogress" style="min-height:160px"></div></div>
      <div class="col"><div class="section-title">Done</div><div class="card" id="d3-col-done" style="min-height:160px"></div></div>
    </div>

    <label class="label mt-small">3C. Immediate Action Notes</label>
    <textarea id="d3-actionNotes" class="input"></textarea>
  </div>

  <div class="card">
    <div class="section-title">Risk Assessment & Part Verification</div>
    <div class="tabs" data-tabs>
      <div class="tabs-nav">
        <button class="tab active" data-tab="risk">Other Product/Platform at Risk</button>
        <button class="tab" data-tab="labels">Identification / Labelling</button>
        <button class="tab" data-tab="sort">Sorting / Containment</button>
      </div>
      <div class="tabs-panels">
        <div class="tab-panel active" data-panel="risk">
          <div class="controls mt-xs"><input class="input table-filter" placeholder="Filter by process/part" data-for="#d3-risk" /></div>
          <table id="d3-risk" class="table dynamic-table table-alt">
            <thead><tr><th>Process/Part Number</th><th>Risk of Same error (Y/N)</th><th>Add to Containment (Y/N)</th><th></th></tr></thead>
            <tbody></tbody>
            <tfoot><tr><td colspan="4"><button class="add-row-btn btn btn-ghost">Add Item</button></td></tr></tfoot>
            <template>
              <tr><td><input class="input"/></td><td><select class="input"><option>Yes</option><option>No</option></select></td><td><select class="input"><option>Yes</option><option>No</option></select></td><td><button class="remove-row-btn btn btn-danger">Remove</button></td></tr>
            </template>
          </table>
        </div>
        <div class="tab-panel" data-panel="labels">
          <div class="controls mt-xs"><input class="input table-filter" placeholder="Filter by cut off/comments" data-for="#d3-labels" /></div>
          <table id="d3-labels" class="table dynamic-table table-alt">
            <thead><tr><th>Cut Off Number</th><th>Date / Time</th><th>Image</th><th>Comments</th><th></th></tr></thead>
            <tbody></tbody>
            <tfoot><tr><td colspan="5"><button class="add-row-btn btn btn-ghost">Add Label</button></td></tr></tfoot>
            <template>
              <tr>
                <td><input class="input"/></td>
                <td><input class="input" type="datetime-local"/></td>
                <td><input class="preview-file" type="file"/></td>
                <td><input class="input"/></td>
                <td><button class="remove-row-btn btn btn-danger">Remove</button></td>
              </tr>
            </template>
          </table>
        </div>
        <div class="tab-panel" data-panel="sort">
          <div class="controls mt-xs"><input class="input table-filter" placeholder="Filter by task/responsibility" data-for="#d3-sort" /></div>
          <table id="d3-sort" class="table dynamic-table table-alt">
            <thead><tr><th>Task/Indicators</th><th>Resp + Target Date</th><th>Qty to be Checked</th><th>Ok Qty</th><th>Not Ok Qty</th><th>Total Checked</th><th>Activity Date</th><th>Comments</th><th></th></tr></thead>
            <tbody></tbody>
            <tfoot><tr><td colspan="9"><button class="add-row-btn btn btn-ghost">Add Sort Activity</button></td></tr></tfoot>
            <template>
              <tr>
                <td><input class="input"/></td>
                <td>
                  <div class="small"><input class="input" placeholder="Responsibility" /></div>
                  <div class="small mt-xs"><input class="input" type="date" placeholder="Target Date"/></div>
                </td>
                <td><input class="input qty-total" type="number"/></td>
                <td><input class="input qty-ok" type="number"/></td>
                <td><input class="input qty-nok" type="number"/></td>
                <td><input class="input qty-checked" type="number" disabled /></td>
                <td><input class="input" type="date"/></td>
                <td><input class="input"/></td>
                <td><button class="remove-row-btn btn btn-danger">Remove</button></td>
              </tr>
            </template>
          </table>
        </div>
      </div>
    </div>

    <div class="mt-small">
      <label class="label">3G. Documents</label>
      <input class="preview-file" type="file" multiple />
    </div>
  </div>

  <div class="card">
    <div class="section-title">Visual Parts Flow Diagram</div>
    <div class="hint">Upload a diagram showing where parts are held, sorted, and released.</div>
    <div class="file-block drop-zone" id="d3-flow-zone">
      <input class="preview-file" id="d3-flow-diagram" type="file" />
      <div class="file-preview small"></div>
    </div>
  </div>

  <script src="/assets/8d-forms.js"></script>
  <script>window.__init8D && window.__init8D(document);</script>
</section>
