<section class="container">
  <link rel="stylesheet" href="/assets/8d.css">
  <div class="card header toolbar">
    <div>
      <div class="h-title">D7 ‚Äî Prevent Recurrence üõ°Ô∏è</div>
      <div class="h-sub">Systemic changes to prevent recurrence.</div>
    </div>
    <div class="controls">
      <div class="timestamp">Last updated: <span id="d7-timestamp">Never</span></div>
      <select id="d7-status-select" class="input select-compact status-select" data-id="d7">
        <option value="pending">Pending</option>
        <option value="in-progress">In Progress</option>
        <option value="completed">Completed</option>
      </select>
      <button class="btn btn-primary save-btn" data-id="d7" aria-label="Save D7"><i data-lucide="save"></i> Save</button>
    </div>
  </div>

  <div class="card">
    <div class="section-title">Preventive Actions</div>
    <table id="d7-prevent" class="table dynamic-table table-alt">
      <thead><tr><th title="Describe the action">Action <i class="fa-regular fa-circle-question"></i></th><th title="Prevent or Detect?">Type <i class="fa-regular fa-circle-question"></i></th><th title="Is it available yet?">Available <i class="fa-regular fa-circle-question"></i></th><th>Owner</th><th>Due Date</th><th>Status</th><th>History</th><th>Severity</th><th>Occurrence</th><th>Detection</th><th>Revised RPN</th><th>Document Link</th><th>Documents</th><th></th></tr></thead>
      <tbody></tbody>
      <tfoot><tr><td colspan="14"><button class="add-row-btn btn btn-ghost">+ New Preventive Action</button></td></tr></tfoot>
      <template>
        <tr>
          <td><input class="input"/></td>
          <td><select class="input"><option>Prevent</option><option>Detect</option></select></td>
          <td><input type="checkbox"/></td>
          <td><input class="input"/></td>
          <td><input class="input" type="date"/></td>
          <td><select class="input prevent-status"><option>Planned</option><option>In Progress</option><option>Done</option></select></td>
          <td><input class="input"/></td>
          <td><input class="input rpn-s" type="number" min="1" max="10"/></td>
          <td><input class="input rpn-o" type="number" min="1" max="10"/></td>
          <td><input class="input rpn-d" type="number" min="1" max="10"/></td>
          <td><input class="input rpn" type="number" disabled /></td>
          <td><input class="input" placeholder="https:// or DOC-123"/></td>
          <td><div class="controls"><i class="fa-regular fa-file-lines"></i> <input class="preview-file" type="file"/></div></td>
          <td><button class="remove-row-btn btn btn-danger">Remove</button></td>
        </tr>
      </template>
    </table>
  </div>

  <div class="card">
    <div class="section-title">Document Standardization & Review</div>
    <div class="small">Consider: FMEA, Control Plan, SOPs, Training Materials, Work Instructions, Drawings</div>
    <div class="controls mt-xs">
      <input id="d7-new-std" class="input" placeholder="Add checklist item" />
      <button id="d7-add-std" class="btn btn-ghost">Add</button>
    </div>
    <div id="d7-std-list" class="dynamic-list mt-small"></div>

    <div class="mt-small">
      <button id="d7-track-read" class="btn btn-ghost">Track Read & Understood</button>
    </div>

    <div class="mt-small">
      <div class="section-title">Similar Parts/Processes</div>
      <div class="controls mt-xs">
        <input id="d7-similar" class="input" placeholder="Add similar part/process" />
        <button id="d7-add-similar" class="btn btn-ghost">Add</button>
      </div>
      <div id="d7-similar-list" class="dynamic-list mt-small"></div>
    </div>
  </div>

  <script src="/assets/8d-forms.js"></script>
  <script>window.__init8D && window.__init8D(document);</script>
</section>
